# Log in

Users connect to MetaCentrum by using `ssh` to any of the login nodes called **frontends**.

![grid](/assets/templ_004.png)

In Linux, macOS, Windows PowerShell and MobaXterm the `ssh` command can be given in the terminal.

=== "Linux, macOS, Windows PowerShell and MobaXterm terminal"

    Open the terminal and on CLI type

    ```
    ssh your_username@frontend
    ```

=== "Windows PuTTY"

    1. Open PuTTY
    2. Specify frontend name as Host name
    3. Use default port 22
    4. Use SSH connection type, protocol version 2
    5. Click on "Open"
    6. A terminal should appear prompting for your MetaCentrum username and password.
    7. On the command line type

    ```
    ssh your_username@frontend
    ```

Once the terminal connection to a frontend is open you can start using it with the Linux command line tools (bash shell).

A complete list of frontends is given below. You can use any of them. We encourage users to pick one that is closest to their physical location (city) to minimize network lag.

!!! tip
    In case your favourite frontend is down or going just too slow, do not hesitate to use another one.   

--8<-- "frontend-table-1.md"

!!! warning

    The frontend nodes can be used for light pre- and postprocessing and manipulation of data. All other tasks must be submitted as jobs to the batch job system. If you need to run something interactively, submit an interactive job.

## Security

### SSH keys

If you log in for the first time, you will be prompted by a query similar to the following:

    The authenticity of host 'skirit.ics.muni.cz (2001:718:ff01:1:216:3eff:fe20:382)' can't be
    established. ECDSA key fingerprint is SHA256:Splg9bGTNCeVSLE0E4tB30pcLS80sWuv0ezHrH1p0xE.
    Are you sure you want to continue connecting (yes/no)?

If you already have the public key saved in your `~/.ssh/known_hosts` file and the frontend comes up with a different one, you will see this message. 

    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    @    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @
    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!
    Someone could be eavesdropping on you right now (man-in-the-middle attack)!
    It is also possible that a host key has just been changed.
    The fingerprint for the ED25519 key sent by the remote host is
    SHA256:bZfXg8ZTXR3KlUNbJ8rhMP0QOtbGdp7sMPCW22bIE0M.
    Please contact your system administrator.
    Add correct host key in /home/user123/.ssh/known_hosts to get rid of this message.
    Offending ED25519 key in /home/user123/.ssh/known_hosts:1
      remove with:
      ssh-keygen -f "/home/user123/.ssh/known_hosts" -R "skirit.ics.muni.cz"
    Host key for skirit.ics.muni.cz has changed and you have requested strict checking.
    Host key verification failed.

This normally happens when the frontend is reinstalled or its key is re-generated by admins (for whatever reasons). However this may be also a sign of an attack when a different machine tries to pretend it is a frontend.

!!! warning
    Especially in the case above we recommend users to verify the key before running `ssh-keygen -f` command. 

**How to verify the key**

 1. Go to [PBSmon page with host SSH key fingerprints](https://metavo.metacentrum.cz/ssh_known_hosts.fp). This page contains fingerprints od SSH keys of all our hosts (computing nodes as well as frontends).
 2. Search for the name of host you tried to log in, e.g. "skirit.ics.muni.cz". You will find several lines containing this word. 
 3. Among these lines, select the one that contains the type of encryption noted in the warning message, e.g. "ED25519"
 4. At this line, select the string that follows after "SHA256:" and ends by first blank space
 5. If this string is the same as the one displayed  in the warning message (here `:bZfXg8ZTXR3KlUNbJ8rhMP0QOtbGdp7sMPCW22bIE0M`), then the keyis safe and you can go on with removing the old key and changing it to the new one
 6. If the strings are different, do not log in and contact our user support.

In case you need to list public keys of all hosts, there is also [a complete list of public keys](https://metavo.metacentrum.cz/ssh_known_hosts) available.


### Kerberos 

After the user enters MetaCentrum infrastructure by logging in, they will need also to be able to move between computational nodes, reach storage spaces residing on different machines etc. It would be very inconvenient to authenticate by password every time. Therefore the authentication of user **within** the MetaCentrum infrastructure is done by [Kerberos protocol](https://en.wikipedia.org/wiki/Kerberos_(protocol)).


![grid](/assets/templ_005.png)

After the user logs in, they automatically obtain a **Kerberos tickets**. As long as the ticket is valid, user can move between machines, run jobs, copy files without bothering about the authentication.

!!! warning
    The ticket is valid for 10 hours. If you stay logged in for longer, you will need to re-generate your ticket with `kinit` command.

**Basic Kerberos commands**

- `klist`  - list all current tickets
- `kdestroy` - dump all tickets
- `kinit` - create new Kerberos ticket

It is also possible to install Kerberos on your PC. For more in-depth info, see [Kerberos advanced chapter](/advanced/kerberos).


